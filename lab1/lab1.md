# Лабораторная работа 1 - Обзор Google Cloud и исследование ключевых сервисов
## Цель
Познакомиться с основными возможностями и преимуществами платформы Google Cloud.
## Процедура
1. **Создание служебной учетной записи**
    * Перейдем на вкладку IAM и создайте служебную учетную запись с ролью `Storage Admin`;
    * Имя: `gyrlin-sa-lab1`.
2. **Создание виртуальной Машины**
    * Создадим минимальную вычислительную машину (VM) с типом машины e2-micro в режиме спот;
    * Имя: `pgyrlin-vm-lab1`.
3. **Копирование файлов из бакета**
    * Используем инструмент `gsutil`, чтобы найти бакет `lab1-bucket-itmo` и скопировать 3 файла в локальную папку на VM. Используйте `ls` `-lah`, чтобы отобразить скопированные файлы.
4. **Изменение прав доступа**
    * Изменим роль служебной учетной записи с `Storage Admin` на `Compute Viewer` и попробуем повторить шаг с копированием данных. Делаем выводы из результатов.
5. **Очистка**
    * Удаляем все созданные сервисы и пишем отчет со скриншотами.
## Результаты
1. **Создание служебной учетной записи**
    * Я создал служебную учетную запись в Google Cloud, следуя следующим шагам:
        * `Меню навигации > IAM & Admin > Служебные учетные записи > Создать служебную учетную запись`;
        * Заполнил форму:
            * Имя: `gyrlin-sa-lab1`;
            * Роль: `StorageAdmin`.
![alt text](<Виртуальная машина1.JPG>)
2. **Создание виртуальной машины**
    * Я создал минимальную виртуальную машину:
        * `Меню навигации > Compute Engine > Виртуальные машины > Создать экземпляр`;
        * Имя: `pgyrlin-vm-lab1`;
        * Регион: `europe-north1 (Финляндия)`;
        * Конфигурация машины: 
           * `"Series": "E2"`,
            * `"Machine type": "e2-micro"`,
            *  `"Availability policies": "Spot"`.

![alt text](<Виртуальная машина2.JPG>)

3. **Копирование файлов**
    * Подключимся к VM через SSH и выполнил следующие команды:
    1.	gsutil version - проверить доступность gsutil.
    2.	gsutil ls - подтвердить доступ к бакет.
    3.	ls -lah - отобразить хранилище VM.
    4.	mkdir ~/myBucket - создать папку для скопированных файлов.
    5.	ls -lah - проверить, была ли создана папка.
    6.	gsutil cp gs://lab1-bucket-itmo/* ~/myBucket/ - скопировать файлы из бакета.
    7.	ls -lah ~/myBucket/ - подтвердить, что файлы были скопированы.
    8.	gsutil ls gs://lab1-bucket-itmo/ - подтвердить наличие файлов в бакете.

    ![alt text](<Виртуальная машина 3.JPG>)
4. **Изменение роли служебной учетной записи**
    * Я изменил роль служебной учетной записи на Compute Viewer и попытался снова скопировать файлы
        * Попробовал выполнить ту же команду, но получил ошибку Access Denied Exception (403).
    
![alt text](<Виртуальная машина 4.jpg>)

# **Заключение** 
Изменение роли на Compute Viewer лишило доступа к бакету, что подтвердило важность разрешений IAM. Тем не менее, я все еще мог управлять VM, что подчеркивает гранулярность ролей IAM.
### **Очистка**
* Удалил все созданные сервисы в Google Cloud.


